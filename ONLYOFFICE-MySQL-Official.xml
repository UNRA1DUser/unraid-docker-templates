<?xml version="1.0"?>
<Container version="2">
  <Name>ONLYOFFICE-MySQL-Official</Name>
  <Repository>mysql:5.7</Repository>
  <Registry>https://hub.docker.com/_/mysql</Registry>
  <Network>onlyoffice</Network>
  <MyIP/>
  <Shell>sh</Shell>
  <Privileged>false</Privileged>
  <Support/>
  <Project>https://www.onlyoffice.com/</Project>
  <Overview>Official MySQL database container configured with the Instructions from ONLYOFFICE!&#xD;
&#xD;
#Installation order&#xD;
ONLYOFFICE-MySQL-Official&#xD;
ONLYOFFICE-Mail-Official&#xD;
ONLYOFFICE-Document-Official&#xD;
ONLYOFFICE-Controlpanel-Official&#xD;
ONLYOFFICE-Community-Official&#xD;
&#xD;
#Root Password:&#xD;
This container creates by default a random root password on initial execution. Open Docker &amp;gt; MySQL Icon &amp;gt; Logs &amp;gt; Scroll down to "GENERATED ROOT PASSWORD" to find it.&#xD;
IMPORTANT: If you start the ONLYOFFICE-Mail-Official Docker and you get an Error Message like "OpenDKIM Milter FAILED" that could be because of special characters in the password!&#xD;
If you want to set a password yourself remove the "yes" under "Generate Random Password" and under Advanced -&amp;gt; "Root Password" set your password.&#xD;
&#xD;
#Configuration without a cnf file&#xD;
All needed configuration options for ONLYOFFICE-MySQL are passed as flags to mysqld via Post Arguments.&#xD;
&#xD;
mysqld --log-error=/var/log/mysql/error.log --sql-mode=NO_ENGINE_SUBSTITUTION --max-connections=1000 --max-allowed-packet=1048576000 --group-concat-max-len=2048&#xD;
&#xD;
#Creating database dumps&#xD;
docker exec some-mysql sh -c 'exec mysqldump --all-databases -uroot -p"$MYSQL_ROOT_PASSWORD"' &amp;gt; /mnt/user/Backups/all-databases.sql&#xD;
&#xD;
#Restoring data from dump files&#xD;
docker exec -i some-mysql sh -c 'exec mysql -uroot -p"$MYSQL_ROOT_PASSWORD"' &amp;lt; /mnt/user/Backups/all-databases.sql</Overview>
  <Category>Cloud: Productivity: Tools: Network:Other</Category>
  <WebUI/>
  <TemplateURL>https://github.com/UNRA1DUser/unraid-docker-templates/tree/main/UNRA1DUser</TemplateURL>
  <Icon>https://raw.githubusercontent.com/UNRA1DUser/unraid-docker-templates/main/UNRA1DUser/img/mysql.png</Icon>
  <ExtraParams>--user=99:100 --memory=2G --restart=unless-stopped</ExtraParams>
  <PostArgs>mysqld --log-error=/var/log/mysql/error.log --sql-mode=NO_ENGINE_SUBSTITUTION --max-connections=1000 --max-allowed-packet=1048576000 --group-concat-max-len=2048</PostArgs>
  <CPUset/>
  <DateInstalled>1705092860</DateInstalled>
  <DonateText>If you like my work and would like to support me please consider Donating.</DonateText>
  <DonateLink>https://www.paypal.com/paypalme/M4rc31</DonateLink>
  <Requires>#Before you start this Docker the first time&#xD;
&#xD;
Create the ONLYOFFICE network (Open the Terminal from the Unraid Website and execute that command):&#xD;
&#xD;
sudo docker network create --driver bridge onlyoffice</Requires>
  <Config Name="MYSQL_TCP_PORT" Target="3306" Default="3306" Mode="tcp" Description="MYSQL_TCP_PORT" Type="Port" Display="always" Required="true" Mask="false"/>
  <Config Name="Generate Random Password" Target="MYSQL_RANDOM_ROOT_PASSWORD" Default="" Mode="" Description="Set to yes, to generate a random root password. The generated password will be printed to the logs (Docker &amp;gt; MySQL Icon &amp;gt; Logs)." Type="Variable" Display="always" Required="false" Mask="false">yes</Config>
  <Config Name="Database Name" Target="MYSQL_DATABASE" Default="onlyoffice" Mode="" Description="This variable allows you to specify the name of a database to be created on image startup." Type="Variable" Display="always" Required="true" Mask="false"/>
  <Config Name="Data" Target="/var/lib/mysql" Default="/mnt/user/appdata/onlyoffice-official/onlyoffice-mysql-official/data" Mode="rw" Description="Recommened: For better performance replace /mnt/user against /mnt/cache. Note: This requires appdata share caching set to Prefer or Only!" Type="Path" Display="always" Required="true" Mask="false"/>
  <Config Name="Logs" Target="/var/log/mysql" Default="/mnt/user/appdata/onlyoffice-official/onlyoffice-mysql-official/logs" Mode="rw" Description="" Type="Path" Display="always" Required="true" Mask="false"/>
  <Config Name="Root Password" Target="MYSQL_ROOT_PASSWORD" Default="" Mode="" Description="Generate Random Password must be empty if you like to set your own Root Password!&#13;&#10;This variable specifies the password that will be set for the MySQL root superuser account." Type="Variable" Display="advanced-hide" Required="false" Mask="true"/>
</Container>
